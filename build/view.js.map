{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACNiD;AAEjDC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;;AAE7B;AACA,MAAM;EAAEC;AAAM,CAAC,GAAGH,+DAAK,CACrB,mBAAmB,EACnB;EACEI,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,MAAMC,KAAK,GAAMH,KAAK,CAACI,UAAU,CAAC,CAAM;MACxC,MAAMC,MAAM,GAAKL,KAAK,CAACM,WAAW,CAAC,CAAO;MAC1C,MAAMC,OAAO,GAAIP,KAAK,CAACQ,YAAY;MACnC,MAAMC,MAAM,GAAKT,KAAK,CAACS,MAAM,CAAC,CAAY;MAC1C,MAAMC,YAAY,GAAGP,KAAK,GAAGE,MAAM,CAAC,CAAQ;;MAE5CP,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE;QACjCY,YAAY,EAAEX,KAAK,CAACW,YAAY;QAChCR,KAAK;QACLE,MAAM;QACNE,OAAO;QACPE,MAAM;QACNC;MACF,CAAC,CAAC;;MAEF;MACAV,KAAK,CAACW,YAAY,GAAGX,KAAK,CAACW,YAAY,GAAGF,MAAM;;MAEhD;MACA,IAAIT,KAAK,CAACY,IAAI,IAAIZ,KAAK,CAACW,YAAY,IAAID,YAAY,EAAE;QACpDG,mBAAmB,CAAC,CAAC;QACrB,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;QAC/DF,aAAa,CAACG,gBAAgB,CAAC,eAAe,EAAE,SAASC,OAAOA,CAAA,EAAG;UACjEJ,aAAa,CAACK,KAAK,CAACC,UAAU,GAAG,MAAM;UACvC;UACApB,KAAK,CAACW,YAAY,GAAG,CAAC;UACtBX,KAAK,CAACqB,SAAS,GAAG,eAAerB,KAAK,CAACW,YAAY,IAAI,GAAG,GAAGJ,OAAO,CAAC,IAAI;UACzEO,aAAa,CAACK,KAAK,CAACE,SAAS,GAAGrB,KAAK,CAACqB,SAAS;UAC/CP,aAAa,CAACQ,YAAY,CAAC,CAAC;UAC5BR,aAAa,CAACK,KAAK,CAACC,UAAU,GAAG,EAAE;UACnCN,aAAa,CAACS,mBAAmB,CAAC,eAAe,EAAEL,OAAO,CAAC;UAC3DpB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEC,KAAK,CAACqB,SAAS,CAAC;QAC1D,CAAC,CAAC;MACJ,CAAC,MAAM;QACLrB,KAAK,CAACqB,SAAS,GAAG,eAAerB,KAAK,CAACW,YAAY,IAAI,GAAG,GAAGJ,OAAO,CAAC,IAAI;QACzEM,mBAAmB,CAAC,CAAC;MACvB;MAEAf,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE;QAChCY,YAAY,EAAEX,KAAK,CAACW,YAAY;QAChCU,SAAS,EAAErB,KAAK,CAACqB;MACnB,CAAC,CAAC;IACJ,CAAC;IACDG,QAAQA,CAAA,EAAG;MACT,MAAMrB,KAAK,GAAMH,KAAK,CAACI,UAAU,CAAC,CAAM;MACxC,MAAMC,MAAM,GAAKL,KAAK,CAACM,WAAW,CAAC,CAAO;MAC1C,MAAMC,OAAO,GAAIP,KAAK,CAACQ,YAAY;MACnC,MAAMC,MAAM,GAAKT,KAAK,CAACS,MAAM,CAAC,CAAY;MAC1C,MAAMC,YAAY,GAAGP,KAAK,GAAGE,MAAM,CAAC,CAAQ;;MAE5CP,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE;QAC9BY,YAAY,EAAEX,KAAK,CAACW,YAAY;QAChCR,KAAK;QACLE,MAAM;QACNE,OAAO;QACPE,MAAM;QACNC;MACF,CAAC,CAAC;;MAEF;MACAV,KAAK,CAACW,YAAY,GAAGX,KAAK,CAACW,YAAY,GAAGF,MAAM;;MAEhD;MACA,IAAIT,KAAK,CAACY,IAAI,IAAIZ,KAAK,CAACW,YAAY,GAAG,CAAC,EAAE;QACxCE,mBAAmB,CAAC,CAAC;QACrB,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;QAC/DF,aAAa,CAACG,gBAAgB,CAAC,eAAe,EAAE,SAASC,OAAOA,CAAA,EAAG;UACjEJ,aAAa,CAACK,KAAK,CAACC,UAAU,GAAG,MAAM;UACvC;UACApB,KAAK,CAACW,YAAY,GAAGD,YAAY,GAAGH,OAAO;UAC3CP,KAAK,CAACqB,SAAS,GAAG,eAAerB,KAAK,CAACW,YAAY,IAAI,GAAG,GAAGJ,OAAO,CAAC,IAAI;UACzEO,aAAa,CAACK,KAAK,CAACE,SAAS,GAAGrB,KAAK,CAACqB,SAAS;UAC/CP,aAAa,CAACQ,YAAY,CAAC,CAAC;UAC5BR,aAAa,CAACK,KAAK,CAACC,UAAU,GAAG,EAAE;UACnCN,aAAa,CAACS,mBAAmB,CAAC,eAAe,EAAEL,OAAO,CAAC;UAC3DpB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEC,KAAK,CAACqB,SAAS,CAAC;QACjD,CAAC,CAAC;MACJ,CAAC,MAAM;QACLrB,KAAK,CAACqB,SAAS,GAAG,eAAerB,KAAK,CAACW,YAAY,IAAI,GAAG,GAAGJ,OAAO,CAAC,IAAI;QACzEM,mBAAmB,CAAC,CAAC;MACvB;MAEAf,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE;QAC7BY,YAAY,EAAEX,KAAK,CAACW,YAAY;QAChCU,SAAS,EAAErB,KAAK,CAACqB;MACnB,CAAC,CAAC;IACJ;EACF,CAAC;EACD;EACArB,KAAK,EAAE;IACLW,YAAY,EAAE,CAAC;IACfU,SAAS,EAAE,gBAAgB;IAC3BjB,UAAU,EAAE,CAAC;IAAO;IACpBI,YAAY,EAAE,CAAC;IAAK;IACpBF,WAAW,EAAE,CAAC;IAAM;IACpBG,MAAM,EAAE,CAAC;IAAW;IACpBG,IAAI,EAAE,IAAI,CAAS;EACrB;AACF,CACF,CAAC;;AAED;AACAa,MAAM,CAACC,aAAa,GAAG1B,KAAK;;AAE5B;AACA,SAASa,mBAAmBA,CAAA,EAAG;EAC7B,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;EAC/D,IAAIF,aAAa,EAAE;IACjBA,aAAa,CAACK,KAAK,CAACE,SAAS,GAAGrB,KAAK,CAACqB,SAAS;IAC/CvB,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEC,KAAK,CAACqB,SAAS,CAAC;EAC5D;AACF;;AAEA;AACA,MAAMP,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;AAC/D,IAAIF,aAAa,EAAE;EACjBA,aAAa,CAACK,KAAK,CAACE,SAAS,GAAGrB,KAAK,CAACqB,SAAS;EAC/CvB,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAEe,aAAa,CAACK,KAAK,CAACE,SAAS,CAAC;AACxF,CAAC,MAAM;EACLvB,OAAO,CAAC6B,IAAI,CAAC,mDAAmD,CAAC;AACnE,C","sources":["webpack://demo-carousel/external module \"@wordpress/interactivity\"","webpack://demo-carousel/webpack/bootstrap","webpack://demo-carousel/webpack/runtime/make namespace object","webpack://demo-carousel/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store } from '@wordpress/interactivity';\n\nconsole.log(\"Inside view.js\");\n\n// Create the store with our context values.\nconst { state } = store(\n  'squareonesoftware',\n  {\n    actions: {\n      moveForward() {\n        const total    = state.itemsTotal;      // Real slides count\n        const clones   = state.clonesCount;       // Clones count\n        const perView  = state.itemsPerView;\n        const scroll   = state.scroll;            // Number of slides to scroll per click\n        const virtualTotal = total + clones;        // Total virtual slides\n\n        console.log(\"Before moveForward:\", {\n          currentIndex: state.currentIndex,\n          total,\n          clones,\n          perView,\n          scroll,\n          virtualTotal\n        });\n        \n        // Increase index by state.scroll instead of perView.\n        state.currentIndex = state.currentIndex + scroll;\n        \n        // If looping and we've reached or exceeded the virtual total, jump back.\n        if (state.loop && state.currentIndex >= virtualTotal) {\n          updateCarouselTrack();\n          const carouselTrack = document.querySelector('.carousel-track');\n          carouselTrack.addEventListener('transitionend', function handler() {\n            carouselTrack.style.transition = 'none';\n            // Jump back to the real first slide (index 0)\n            state.currentIndex = 0;\n            state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n            carouselTrack.style.transform = state.transform;\n            carouselTrack.offsetHeight; // force reflow\n            carouselTrack.style.transition = '';\n            carouselTrack.removeEventListener('transitionend', handler);\n            console.log(\"Looped forward to start:\", state.transform);\n          });\n        } else {\n          state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n          updateCarouselTrack();\n        }\n        \n        console.log(\"After moveForward:\", {\n          currentIndex: state.currentIndex,\n          transform: state.transform\n        });\n      },\n      moveBack() {\n        const total    = state.itemsTotal;      // Real slides count\n        const clones   = state.clonesCount;       // Clones count\n        const perView  = state.itemsPerView;\n        const scroll   = state.scroll;            // Number of slides to scroll per click\n        const virtualTotal = total + clones;        // Total virtual slides\n\n        console.log(\"Before moveBack:\", {\n          currentIndex: state.currentIndex,\n          total,\n          clones,\n          perView,\n          scroll,\n          virtualTotal\n        });\n        \n        // Decrease index by state.scroll.\n        state.currentIndex = state.currentIndex - scroll;\n        \n        // If looping and we've moved before the beginning, jump to the last full group.\n        if (state.loop && state.currentIndex < 0) {\n          updateCarouselTrack();\n          const carouselTrack = document.querySelector('.carousel-track');\n          carouselTrack.addEventListener('transitionend', function handler() {\n            carouselTrack.style.transition = 'none';\n            // Jump to the last group: virtual index = virtualTotal - perView\n            state.currentIndex = virtualTotal - perView;\n            state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n            carouselTrack.style.transform = state.transform;\n            carouselTrack.offsetHeight; // force reflow\n            carouselTrack.style.transition = '';\n            carouselTrack.removeEventListener('transitionend', handler);\n            console.log(\"Looped back to:\", state.transform);\n          });\n        } else {\n          state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n          updateCarouselTrack();\n        }\n        \n        console.log(\"After moveBack:\", {\n          currentIndex: state.currentIndex,\n          transform: state.transform\n        });\n      }\n    },\n    // Initialize the store state with values coming from the PHP context.\n    state: {\n      currentIndex: 0,\n      transform: 'translateX(0%)',\n      itemsTotal: 5,      // Real slides count (from PHP)\n      itemsPerView: 3,    // Columns (from PHP)\n      clonesCount: 1,     // Clones count (calculated in PHP)\n      scroll: 1,          // Number of slides to scroll per click (from PHP; default is 1)\n      loop: true         // Loop enabled (from PHP)\n    }\n  }\n);\n\n// Expose state globally for debugging.\nwindow.carouselState = state;\n\n// Helper function to update the carousel trackâ€™s transform.\nfunction updateCarouselTrack() {\n  const carouselTrack = document.querySelector('.carousel-track');\n  if (carouselTrack) {\n    carouselTrack.style.transform = state.transform;\n    console.log(\"Carousel track updated to:\", state.transform);\n  }\n}\n\n// Set the initial transform on load.\nconst carouselTrack = document.querySelector('.carousel-track');\nif (carouselTrack) {\n  carouselTrack.style.transform = state.transform;\n  console.log(\"Initial carousel track transform set to:\", carouselTrack.style.transform);\n} else {\n  console.warn(\"Carousel track element not found on initial load.\");\n}"],"names":["store","console","log","state","actions","moveForward","total","itemsTotal","clones","clonesCount","perView","itemsPerView","scroll","virtualTotal","currentIndex","loop","updateCarouselTrack","carouselTrack","document","querySelector","addEventListener","handler","style","transition","transform","offsetHeight","removeEventListener","moveBack","window","carouselState","warn"],"sourceRoot":""}