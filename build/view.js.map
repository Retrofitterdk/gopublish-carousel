{"version":3,"file":"view.js","mappings":"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","sources":["webpack://demo-carousel/external module \"@wordpress/interactivity\"","webpack://demo-carousel/webpack/bootstrap","webpack://demo-carousel/webpack/runtime/make namespace object","webpack://demo-carousel/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store } from '@wordpress/interactivity';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Target the carousel element using a more specific selector.\n  const contextElem = document.querySelector('[data-wp-interactive=\"squareonesoftware\"][data-wp-context]');\n  let phpContext = {};\n  \n  if (contextElem) {\n    const contextData = contextElem.getAttribute('data-wp-context');\n    console.log(\"Raw PHP context attribute:\", contextData);\n    try {\n      phpContext = JSON.parse(contextData);\n      console.log(\"Parsed PHP context:\", phpContext);\n    } catch (e) {\n      console.error(\"Error parsing PHP context:\", e);\n    }\n  } else {\n    console.warn(\"No carousel element with data-wp-interactive and data-wp-context found.\");\n  }\n  \n  // Merge PHP context into default state values\n  const initialState = Object.assign({\n    currentIndex: 0,\n    transform: 'translateX(0%)',\n    itemsTotal: 0,\n    itemsPerView: 3,\n    clonesCount: 0,\n    scroll: 1,\n    loop: false\n  }, phpContext);\n\n  // Initialize the store with our merged state\n  const { state } = store('squareonesoftware', {\n    actions: {\n      moveForward() {\n        const total = state.itemsTotal;\n        const clones = state.clonesCount;\n        const perView = state.itemsPerView;\n        const scroll = state.scroll;\n        console.log(\"Before moveForward:\", {\n          currentIndex: state.currentIndex,\n          total,\n          clones,\n          perView,\n          scroll\n        });\n\n        // Increase index by scroll amount\n        state.currentIndex = state.currentIndex + scroll;\n\n        if (state.loop && state.currentIndex >= total + clones) {\n          state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n          updateCarouselTrack();\n\n          const carouselTrack = document.querySelector('.carousel-track');\n          carouselTrack.addEventListener('transitionend', function handler() {\n            carouselTrack.style.transition = 'none';\n            const jumpToIndex = state.currentIndex - total;\n            state.currentIndex = jumpToIndex;\n            state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n            carouselTrack.style.transform = state.transform;\n            // Force reflow\n            carouselTrack.offsetHeight;\n            carouselTrack.style.transition = '';\n            carouselTrack.removeEventListener('transitionend', handler);\n            console.log(\"Looped to corresponding real slide:\", {\n              jumpedTo: state.currentIndex,\n              transform: state.transform\n            });\n          });\n        } else {\n          state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n          updateCarouselTrack();\n        }\n        console.log(\"After moveForward:\", {\n          currentIndex: state.currentIndex,\n          transform: state.transform\n        });\n      },\n\n      moveBack() {\n        const total = state.itemsTotal;\n        const clones = state.clonesCount;\n        const perView = state.itemsPerView;\n        const scroll = state.scroll;\n        console.log(\"Before moveBack:\", {\n          currentIndex: state.currentIndex,\n          total,\n          clones,\n          perView,\n          scroll\n        });\n\n        // Decrease index by scroll amount\n        state.currentIndex = state.currentIndex - scroll;\n\n        if (state.loop && state.currentIndex < clones) {\n          state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n          updateCarouselTrack();\n\n          const carouselTrack = document.querySelector('.carousel-track');\n          carouselTrack.addEventListener('transitionend', function handler() {\n            carouselTrack.style.transition = 'none';\n            const jumpToIndex = state.currentIndex + total;\n            state.currentIndex = jumpToIndex;\n            state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n            carouselTrack.style.transform = state.transform;\n            // Force reflow\n            carouselTrack.offsetHeight;\n            carouselTrack.style.transition = '';\n            carouselTrack.removeEventListener('transitionend', handler);\n            console.log(\"Looped to corresponding real slide:\", {\n              jumpedTo: state.currentIndex,\n              transform: state.transform\n            });\n          });\n        } else {\n          state.transform = `translateX(-${state.currentIndex * (100 / perView)}%)`;\n          updateCarouselTrack();\n        }\n        console.log(\"After moveBack:\", {\n          currentIndex: state.currentIndex,\n          transform: state.transform\n        });\n      }\n    },\n    state: initialState\n  });\n  \n  // Expose state globally for debugging.\n  window.carouselState = state;\n  \n  // Helper to update the carousel track's transform.\n  function updateCarouselTrack() {\n    const carouselTrack = document.querySelector('.carousel-track');\n    if (carouselTrack) {\n      carouselTrack.style.transform = state.transform;\n      console.log(\"Carousel track updated to:\", state.transform);\n    }\n  }\n  \n  // Set the initial transform based on the merged state\n  const carouselTrack = document.querySelector('.carousel-track');\n  if (carouselTrack) {\n    if (state.loop) {\n      state.currentIndex = state.clonesCount;\n    }\n    state.transform = `translateX(-${state.currentIndex * (100 / state.itemsPerView)}%)`;\n    carouselTrack.style.transform = state.transform;\n    console.log(\"Initial carousel track transform set to:\", state.transform, \"currentIndex:\", state.currentIndex);\n  } else {\n    console.warn(\"Carousel track element not found on initial load.\");\n  }\n});"],"names":["store","document","addEventListener","contextElem","querySelector","phpContext","contextData","getAttribute","console","log","JSON","parse","e","error","warn","initialState","Object","assign","currentIndex","transform","itemsTotal","itemsPerView","clonesCount","scroll","loop","state","actions","moveForward","total","clones","perView","updateCarouselTrack","carouselTrack","handler","style","transition","jumpToIndex","offsetHeight","removeEventListener","jumpedTo","moveBack","window","carouselState"],"sourceRoot":""}