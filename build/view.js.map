{"version":3,"file":"view.js","mappings":"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","sources":["webpack://demo-carousel/external module \"@wordpress/interactivity\"","webpack://demo-carousel/webpack/bootstrap","webpack://demo-carousel/webpack/runtime/make namespace object","webpack://demo-carousel/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store } from '@wordpress/interactivity';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Target the carousel element\n    const contextElem = document.querySelector('[data-wp-interactive=\"squareonesoftware\"][data-wp-context]');\n    let phpContext = {};\n    \n    if (contextElem) {\n        const contextData = contextElem.getAttribute('data-wp-context');\n        try {\n            phpContext = JSON.parse(contextData);\n        } catch (e) {\n            console.error(\"Error parsing PHP context:\", e);\n        }\n    } else {\n        console.warn(\"No carousel element with data-wp-interactive and data-wp-context found.\");\n    }\n    \n    // Merge PHP context into default state values\n    const initialState = Object.assign({\n        currentIndex: 0,\n        transform: 'translateX(0%)',\n        itemsTotal: 0,\n        itemsPerView: 3,\n        scroll: 1,             // <â€” The key property for how many items to move\n        isTransitioning: false\n    }, phpContext);\n\n    const { state } = store(\n        'squareonesoftware',\n        {\n            actions: {\n              moveForward() {\n                    if (state.isTransitioning) return;\n\n                    const { itemsTotal, itemsPerView, scroll } = state;\n                    \n                    // Shift backward by `scroll` items\n                    state.currentIndex = (state.currentIndex + scroll) % itemsTotal;\n\n                    // Translate using itemsPerView to figure out the offset width\n                    state.transform = `translateX(-${state.currentIndex * (100 / itemsPerView)}%)`;\n                    updateCarouselTrack();\n                },\n                moveBack() {\n                    if (state.isTransitioning) return;\n\n                    const { itemsTotal, itemsPerView, scroll } = state;\n                    \n                    // Shift forward by `scroll` items\n                    // add itemsTotal before % to avoid negative modulus\n                    state.currentIndex = (state.currentIndex - scroll + itemsTotal) % itemsTotal;\n\n                    // Translate using itemsPerView for width offset\n                    state.transform = `translateX(-${state.currentIndex * (100 / itemsPerView)}%)`;\n                    updateCarouselTrack();\n                }\n            },\n            state: initialState\n        }\n    );\n\n    // Expose state for debugging\n    window.carouselState = state;\n\n    function updateCarouselTrack() {\n        const carouselTrack = document.querySelector('.carousel-track');\n        if (carouselTrack) {\n            carouselTrack.style.transform = state.transform;\n            console.log(\"Carousel track updated to:\", state.transform);\n        }\n    }\n    \n    // Initialize the carousel track transform\n    const carouselTrack = document.querySelector('.carousel-track');\n    if (carouselTrack) {\n        // Disable transition on load\n        carouselTrack.style.transition = 'none';\n        state.transform = `translateX(-${state.currentIndex * (100 / state.itemsPerView)}%)`;\n        carouselTrack.style.transform = state.transform;\n        carouselTrack.offsetHeight; // Force reflow\n        \n        setTimeout(() => {\n            carouselTrack.style.transition = 'transform 0.3s ease-out';\n        }, 50);\n    } else {\n        console.warn(\"Carousel track element not found on initial load.\");\n    }\n});"],"names":["store","document","addEventListener","contextElem","querySelector","phpContext","contextData","getAttribute","JSON","parse","e","console","error","warn","initialState","Object","assign","currentIndex","transform","itemsTotal","itemsPerView","scroll","isTransitioning","state","actions","moveForward","updateCarouselTrack","moveBack","window","carouselState","carouselTrack","style","log","transition","offsetHeight","setTimeout"],"sourceRoot":""}