<<<<<<< Updated upstream
import*as t from"@wordpress/interactivity";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const r=(n={getContext:()=>t.getContext,store:()=>t.store},s={},e.d(s,n),s),{state:o}=(0,r.store)("squareonesoftware",{actions:{moveBack(){const t=(0,r.getContext)(),e=t.itemsTotal,o=t.itemsPerView;t.currentIndex=(t.currentIndex+o)%e;const n=-t.currentIndex*(100/o);t.transform=`translateX(${n}%)`},moveForward(){const t=(0,r.getContext)(),e=t.itemsTotal,o=t.itemsPerView;t.currentIndex=(t.currentIndex-o+e)%e;const n=-t.currentIndex*(100/o);t.transform=`translateX(${n}%)`}}});var n,s;
=======
import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(o={store:()=>e.store},r={},t.d(r,o),r);var o,r;document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector('[data-wp-interactive="squareonesoftware"][data-wp-context]');let t={};if(e)try{t=JSON.parse(e.getAttribute("data-wp-context"))}catch(e){console.error("Error parsing PHP context:",e)}const o=Object.assign({currentIndex:0,transform:"translateX(0%)",isTransitioning:!1,itemsTotal:0,clonesCount:0,itemsPerView:3,scroll:1,loop:!0,slideWidth:null},t);o.itemsTotal,o.clonesCount,o.loop&&(o.currentIndex=o.clonesCount);const{state:r,actions:s}=(0,n.store)("squareonesoftware",{actions:{moveForward(){r.isTransitioning||(r.isTransitioning=!0,r.currentIndex+=r.scroll,c())},moveBack(){r.isTransitioning||(r.isTransitioning=!0,r.currentIndex-=r.scroll,c())}},state:o}),i=document.querySelector(".carousel-track"),a=document.querySelector(".carousel-container");function c(){if(window.innerWidth<=760){const e=74.0740740741*r.currentIndex;i.style.transform=`translateX(-${e}%)`,a.classList.add("mobile-partial-view")}else{const e=100/(r.itemsPerView-.3)*r.currentIndex;i.style.transform=`translateX(-${e}%)`,a.classList.remove("mobile-partial-view")}}i?.addEventListener("transitionend",(()=>{r.isTransitioning=!1,r.currentIndex>=r.itemsTotal+r.clonesCount?(i.style.transition="none",r.currentIndex=r.currentIndex-r.itemsTotal,c(),requestAnimationFrame((()=>{i.offsetHeight,i.style.transition="transform 0.3s ease-out"}))):r.currentIndex<r.clonesCount&&(i.style.transition="none",r.currentIndex=r.currentIndex+r.itemsTotal,c(),requestAnimationFrame((()=>{i.offsetHeight,i.style.transition="transform 0.3s ease-out"})))})),i&&(i.style.transition="none",c(),i.offsetHeight,setTimeout((()=>{i.style.transition="transform 0.3s ease-out"}),50)),window.addEventListener("resize",c);let l=0,d=0,u=!1;i.addEventListener("touchstart",(e=>{e.touches&&e.touches.length&&(l=e.touches[0].clientX,d=l,u=!0)})),i.addEventListener("touchmove",(e=>{u&&e.touches&&e.touches.length&&(d=e.touches[0].clientX)})),i.addEventListener("touchend",(()=>{if(!u)return;u=!1;const e=d-l;Math.abs(e)>50&&(e<0?s.moveForward():s.moveBack())}));let m=!1,v=0,f=0;i.addEventListener("mousedown",(e=>{e.preventDefault(),m=!0,v=e.clientX,f=v})),i.addEventListener("mousemove",(e=>{m&&(f=e.clientX)})),i.addEventListener("mouseup",(e=>{if(!m)return;m=!1;const t=f-v;Math.abs(t)>50&&(t<0?s.moveForward():s.moveBack())}))}));
>>>>>>> Stashed changes
